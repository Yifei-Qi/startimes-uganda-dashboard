<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>Spatial Niche · Touchpoint Map · StarTimes Uganda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 字体，与其它页面统一 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500;600;700&family=Barlow:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #050816;
      --text-main: #f9fafb;
      --text-muted: #94a3b8;
      --font-din:  'Barlow', sans-serif;
      --font-cond: 'Barlow Condensed', sans-serif;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: radial-gradient(circle at 15% 0%, #0b1120 0%, #020617 55%, #000 100%);
      color: var(--text-main);
      font-family: var(--font-din);
      height: 100vh;
      width: 100vw;
      overflow: hidden;
    }

    /* 顶部导航（与其它页面统一） */
    .top-bar {
      position: fixed;
      inset: 0 0 auto 0;
      height: 72px;
      padding: 0 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(to bottom, rgba(5,8,22,0.96), transparent);
      z-index: 20;
      pointer-events: none;
    }

    .brand {
      pointer-events: auto;
      display: flex;
      flex-direction: column;
    }

    .brand-path {
      font-family: var(--font-cond);
      font-size: 11px;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      color: #38bdf8;
      opacity: .95;
      margin-bottom: 4px;
      font-weight: 600;
    }

    .brand-title {
      font-family: var(--font-cond);
      font-size: 18px;
      font-weight: 600;
      letter-spacing: .6px;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .breadcrumb {
      pointer-events:auto;
      font-family:var(--font-cond);
      font-size:11px;
      letter-spacing:1.4px;
      text-transform:uppercase;
      color:rgba(148,163,184,0.9);
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      top:14px;
      display:flex;
      gap:6px;
      align-items:center;
    }
    .crumb-sep{opacity:.6;}
    .crumb-active{color:#e5e7eb;}

    .back-btn {
      pointer-events: auto;
      font-family: var(--font-cond);
      font-size: 14px;
      font-weight: 600;
      padding: 8px 26px;
      border-radius: 999px;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-decoration: none;
      color: var(--text-main);
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.35);
      backdrop-filter: blur(14px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.5);
      transition: all .25s ease;
    }
    .back-btn:hover {
      background:#38bdf8;
      color:#020617;
      border-color:#38bdf8;
      box-shadow:0 10px 28px rgba(56,189,248,0.5);
      transform:translateY(-2px);
    }

    /* 布局 */
    #touch-chart {
      position:absolute;
      inset:0;
      z-index:1;
    }

    .panel-layer {
      position:absolute;
      inset:0;
      padding:80px 40px 40px;
      z-index:10;
      pointer-events:none;
    }

    .hero-block {
      position:absolute;
      top:96px;
      left:40px;
      max-width:420px;
      pointer-events:auto;
      text-shadow:0 14px 40px rgba(0,0,0,0.85);
    }

    .hero-label {
      font-family:var(--font-cond);
      font-size:12px;
      font-weight:700;
      letter-spacing:1.5px;
      text-transform:uppercase;
      color:#38bdf8;
      margin-bottom:10px;
    }

    .hero-title {
      font-family:var(--font-cond);
      font-size:52px;
      font-weight:700;
      line-height:.9;
      letter-spacing:-1px;
      text-transform:uppercase;
      margin-bottom:22px;
    }

    .hero-title span:nth-child(1){
      display:block;
      background:linear-gradient(180deg,#f9fafb 0%,#d1d5db 100%);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .hero-title span:nth-child(2){
      display:block;
      background:linear-gradient(180deg,#f9fafb 0%,#9ca3af 100%);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }

    .hero-desc {
      font-size:14px;
      line-height:1.7;
      color:var(--text-muted);
      padding-left:18px;
      border-left:3px solid rgba(148,163,184,0.6);
      margin-bottom:22px;
    }

    .hero-desc strong{color:#e5e7eb;font-weight:600;}

    .hero-chips{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-bottom:18px;
    }
    .hero-chip{
      font-family:var(--font-cond);
      font-size:11px;
      letter-spacing:1px;
      text-transform:uppercase;
      padding:6px 14px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.95);
      color:#e5e7eb;
      box-shadow:0 8px 22px rgba(0,0,0,0.6);
    }

    .hint-line{
      position:absolute;
      left:40px;
      bottom:32px;
      font-family:var(--font-cond);
      font-size:11px;
      letter-spacing:1.5px;
      text-transform:uppercase;
      color:rgba(148,163,184,0.9);
      display:flex;
      gap:10px;
      align-items:center;
      pointer-events:none;
    }
    .hint-line::before{
      content:'';
      width:120px;
      height:1px;
      background:linear-gradient(90deg,rgba(148,163,184,0.5),transparent);
    }

    @media (max-width:900px){
      .top-bar{padding:0 18px;height:64px;}
      .panel-layer{padding:70px 18px 18px;}
      .hero-block{position:static;max-width:none;margin-right:0;}
      #touch-chart{top:280px;}
    }
  </style>
</head>
<body>

  <div class="top-bar">
    <div class="brand">
      <div class="brand-path">STARTIMES / UGANDA / NICHE / SPATIAL</div>
      <div class="brand-title">Spatial Niche · Touchpoint Map</div>
    </div>

    <div class="breadcrumb">
      <span>Data Space</span><span class="crumb-sep">/</span>
      <span>Niche</span><span class="crumb-sep">/</span>
      <span class="crumb-active">Spatial Niche</span>
    </div>

    <a class="back-btn" href="./index.html">Back to Niche</a>
  </div>

  <div id="touch-chart"></div>

  <div class="panel-layer">
    <section class="hero-block">
      <div class="hero-label">SPATIAL NICHE · UGANDA</div>
      <h1 class="hero-title">
        <span>FROM SCREEN</span>
        <span>TO STREET</span>
      </h1>
      <p class="hero-desc">
        「空间生态位」不是单一广告渠道，而是把乌干达市场上 StarTimes
        可触达的线上 / 线下 视觉 / 听觉触点放在同一张坐标图里：左右代表从线下场景到线上场景，
        上下代表从纯视觉到纯听觉。每一个点，是我们可以叠加内容与品牌叙事的一个位置。
      </p>

      <div class="hero-chips">
        <div class="hero-chip">Offline · Billboard / Roadshow</div>
        <div class="hero-chip">On-screen · EPG / Opening ads</div>
        <div class="hero-chip">Audio · Radio / Call center</div>
        <div class="hero-chip">Digital · TVC / Social / WhatsApp</div>
      </div>
    </section>

    <div class="hint-line">
      <span>FROM NICHE INDEX → TOUCHPOINT MAP</span>
    </div>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <script>
    var chartDom = document.getElementById('touch-chart');
    var chart = echarts.init(chartDom);

    // 触点坐标（已经重新拉开，避免互相压在一起）
    var touchpoints = [
      // 线下视觉：Offline · Visual（绿色）
      { name: '户外大牌\nOutdoor billboard',                cat: 'offline-visual', x: -0.9,  y: -0.55 },
      { name: '灯杆广告\nLight pole banners',               cat: 'offline-visual', x: -0.8,  y: -0.7  },
      { name: '营业厅 / 代理商\nFlyers & posters',          cat: 'offline-visual', x: -0.7,  y: -0.6  },
      { name: '纸媒 & 网媒\nPrint & online media',          cat: 'offline-visual', x: -0.6,  y: -0.75 },

      // 线下视觉 + 听觉：Offline · Visual + Audio（橙色）——放在原点附近
      { name: '路演\nRoadshow',                            cat: 'offline-av',     x: -0.05, y:  0.03 },
      { name: '发布会\nPress conference',                  cat: 'offline-av',     x:  0.08, y: -0.03 },

      // 线上听觉：Online · Audio（紫色）——右上象限
      { name: '广播节目\nRadio spots',                      cat: 'online-audio',   x:  0.35, y:  0.75 },
      { name: '呼叫中心\nCall center / IVR',               cat: 'online-audio',   x:  0.6,  y:  0.92 },

      // 线上视觉：Online · Visual（蓝色）——右下象限
      { name: 'EPG 广告\nOpening / zapping / volume bar',  cat: 'online-visual',  x:  0.45, y: -0.6  },
      { name: 'OTT 开屏广告\nApp splash',                   cat: 'online-visual',  x:  0.65, y: -0.5  },
      { name: 'Mini banner\n小尺寸横幅',                     cat: 'online-visual',  x:  0.88, y: -0.38 },

      // 线上视觉 + 听觉：Online · Visual + Audio（粉色）——靠横轴
      { name: 'TVC\nPromo spots',                           cat: 'online-av',      x:  0.25, y:  0.06 },
      { name: '社媒\nSocial / Facebook / X',                cat: 'online-av',      x:  0.55, y: -0.02 },
      { name: 'WhatsApp 群发\nBroadcast list',              cat: 'online-av',      x:  0.85, y:  0.05 }
    ];

    var catStyle = {
      'offline-visual': {
        color: '#22c55e',
        group: '线下视觉 · Offline visual'
      },
      'offline-av': {
        color: '#f97316',
        group: '线下视觉 + 听觉 · Offline visual + audio'
      },
      'online-audio': {
        color: '#a855f7',
        group: '线上听觉 · Online audio'
      },
      'online-visual': {
        color: '#38bdf8',
        group: '线上视觉 · Online visual'
      },
      'online-av': {
        color: '#fb7185',
        group: '线上视觉 + 听觉 · Online visual + audio'
      }
    };

    var scatterData = touchpoints.map(function (tp) {
      return {
        value: [tp.x, tp.y],
        name: tp.name,
        category: tp.cat,
        itemStyle: { color: catStyle[tp.cat].color }
      };
    });

    var option = {
      backgroundColor: 'transparent',
      grid: {
        left: '38%',   // 图表整体向右，给左侧文案让位
        right: '6%',
        top: '12%',
        bottom: '16%'
      },
      xAxis: {
        type: 'value',
        min: -1,
        max: 1,
        splitLine: { show: false },
        axisLine: { show: false },
        axisTick: { show: false },
        axisLabel: { show: false }
      },
      yAxis: {
        type: 'value',
        min: -1,
        max: 1,
        splitLine: { show: false },
        axisLine: { show: false },
        axisTick: { show: false },
        axisLabel: { show: false }
      },
      tooltip: {
        trigger: 'item',
        backgroundColor: 'rgba(15,23,42,0.88)',
        borderColor: 'rgba(148,163,184,0.5)',
        borderWidth: 1,
        padding: 12,
        extraCssText: 'backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);border-radius:20px;box-shadow:0 18px 50px rgba(0,0,0,0.75);',
        textStyle: {
          fontFamily: 'Barlow, -apple-system, BlinkMacSystemFont, system-ui',
          fontSize: 12,
          color: '#e5e7eb'
        },
        formatter: function (params) {
          var d = params.data;
          var meta = catStyle[d.category] || {};
          var x = d.value[0];
          var y = d.value[1];

          var pos = [];
          pos.push(x < 0 ? 'Offline' : 'Online');
          if (y > 0.25) pos.push('Audio');
          else if (y < -0.25) pos.push('Visual');
          else pos.push('Audio + Visual');

          return (
            '<div style="font-weight:600;font-size:13px;margin-bottom:6px;">' +
              d.name.replace('\\n', ' · ') +
            '</div>' +
            (meta.group
              ? '<div style="color:#a5b4fc;margin-bottom:4px;">' + meta.group + '</div>'
              : ''
            ) +
            '<div style="color:#9ca3af;">象限：' + pos.join(' · ') + '</div>'
          );
        }
      },
      series: [
        // 坐标轴 + 箭头 + 四端文字
        {
          type: 'custom',
          coordinateSystem: 'cartesian2d',
          data: [0],
          silent: true,
          zlevel: 1,
          renderItem: function (params, api) {
            var xLeft   = api.coord([-1, 0]);
            var xRight  = api.coord([ 1, 0]);
            var yBottom = api.coord([ 0,-1]);
            var yTop    = api.coord([ 0, 1]);
            var arrow   = 10;

            return {
              type: 'group',
              children: [
                // 横轴
                {
                  type: 'line',
                  shape: { x1: xLeft[0], y1: xLeft[1], x2: xRight[0], y2: xRight[1] },
                  style: { stroke: 'rgba(148,163,184,0.9)', lineWidth: 1.4 }
                },
                // 纵轴
                {
                  type: 'line',
                  shape: { x1: yBottom[0], y1: yBottom[1], x2: yTop[0], y2: yTop[1] },
                  style: { stroke: 'rgba(148,163,184,0.9)', lineWidth: 1.4 }
                },
                // 横轴箭头（右）
                {
                  type: 'polygon',
                  shape: {
                    points: [
                      [xRight[0], xRight[1]],
                      [xRight[0] - arrow, xRight[1] - arrow * 0.5],
                      [xRight[0] - arrow, xRight[1] + arrow * 0.5]
                    ]
                  },
                  style: { fill: 'rgba(148,163,184,0.9)' }
                },
                // 横轴箭头（左）
                {
                  type: 'polygon',
                  shape: {
                    points: [
                      [xLeft[0], xLeft[1]],
                      [xLeft[0] + arrow, xLeft[1] - arrow * 0.5],
                      [xLeft[0] + arrow, xLeft[1] + arrow * 0.5]
                    ]
                  },
                  style: { fill: 'rgba(148,163,184,0.9)' }
                },
                // 纵轴箭头（上）
                {
                  type: 'polygon',
                  shape: {
                    points: [
                      [yTop[0], yTop[1]],
                      [yTop[0] - arrow * 0.5, yTop[1] + arrow],
                      [yTop[0] + arrow * 0.5, yTop[1] + arrow]
                    ]
                  },
                  style: { fill: 'rgba(148,163,184,0.9)' }
                },
                // 纵轴箭头（下）
                {
                  type: 'polygon',
                  shape: {
                    points: [
                      [yBottom[0], yBottom[1]],
                      [yBottom[0] - arrow * 0.5, yBottom[1] - arrow],
                      [yBottom[0] + arrow * 0.5, yBottom[1] - arrow]
                    ]
                  },
                  style: { fill: 'rgba(148,163,184,0.9)' }
                },
                // 轴端文字：全部变大、变亮并严格居中到轴端
                {
                  type: 'text',
                  style: {
                    text: 'OFFLINE',
                    x: xLeft[0] - 4,
                    y: xLeft[1] - 18,
                    textAlign: 'right',
                    textVerticalAlign: 'middle',
                    fontFamily: 'Barlow Condensed',
                    fontSize: 13,
                    letterSpacing: 1.4,
                    fill: '#e5e7eb'
                  }
                },
                {
                  type: 'text',
                  style: {
                    text: 'ONLINE',
                    x: xRight[0] + 4,
                    y: xRight[1] - 18,
                    textAlign: 'left',
                    textVerticalAlign: 'middle',
                    fontFamily: 'Barlow Condensed',
                    fontSize: 13,
                    letterSpacing: 1.4,
                    fill: '#e5e7eb'
                  }
                },
                {
                  type: 'text',
                  style: {
                    text: 'VISUAL',
                    x: yBottom[0],
                    y: yBottom[1] + 26,
                    textAlign: 'center',
                    textVerticalAlign: 'middle',
                    fontFamily: 'Barlow Condensed',
                    fontSize: 13,
                    letterSpacing: 1.4,
                    fill: '#e5e7eb'
                  }
                },
                {
                  type: 'text',
                  style: {
                    text: 'AUDIO',
                    x: yTop[0],
                    y: yTop[1] - 26,
                    textAlign: 'center',
                    textVerticalAlign: 'middle',
                    fontFamily: 'Barlow Condensed',
                    fontSize: 13,
                    letterSpacing: 1.4,
                    fill: '#e5e7eb'
                  }
                }
              ]
            };
          }
        },

        // 行星节点 + 发光 + 标签
        {
          type: 'effectScatter',
          data: scatterData,
          coordinateSystem: 'cartesian2d',
          symbolSize: 12,
          zlevel: 2,
          rippleEffect: {
            scale: 2.2,
            brushType: 'stroke',
            period: 10
          },
          itemStyle: {
            borderWidth: 2,
            borderColor: 'rgba(248,250,252,0.95)',
            shadowBlur: 22,
            shadowColor: 'rgba(15,23,42,0.95)'
          },
          label: {
            show: true,
            formatter: '{b}',
            color: '#e5e7eb',
            fontFamily: 'Barlow, -apple-system, system-ui',
            fontSize: 12
          },
          // 统一在这里控制标签偏移，避免压在轴线上或圆点上
          labelLayout: function (params) {
            var v = params.data.value;
            var xVal = v[0];
            var yVal = v[1];

            var dx = 0;
            var dy = 0;
            var align = 'left';
            var verticalAlign = 'middle';

            // 靠近纵轴：文字放在左右两侧
            if (Math.abs(xVal) < 0.08) {
              dx = xVal >= 0 ? 16 : -16;
              align = xVal >= 0 ? 'left' : 'right';
            }
            // 靠近横轴：文字全部放在轴上方或下方
            else if (Math.abs(yVal) < 0.08) {
              dy = (xVal < 0 ? -16 : -16); // 都放在轴上方，避免压线
              verticalAlign = 'bottom';
              align = xVal >= 0 ? 'left' : 'right';
            }
            // 其他象限：让文字朝外侧偏一点
            else {
              if (xVal >= 0) {
                dx = 14;
                align = 'left';
              } else {
                dx = -14;
                align = 'right';
              }
              dy = yVal > 0 ? -8 : 8;
              verticalAlign = yVal > 0 ? 'bottom' : 'top';
            }

            return {
              dx: dx,
              dy: dy,
              align: align,
              verticalAlign: verticalAlign
            };
          }
        }
      ]
    };

    chart.setOption(option);

    window.addEventListener('resize', function () {
      chart.resize();
    });
  </script>
</body>
</html>
