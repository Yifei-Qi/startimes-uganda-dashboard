<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>Ecology · Content · OTT & Ads · StarTimes Uganda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 字体：Barlow / JetBrains Mono -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500;600;700&family=Barlow:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #050816;
      --glass-bg: rgba(20, 25, 40, 0.80);
      --glass-border: rgba(255, 255, 255, 0.16);
      --glass-shadow: 0 18px 50px rgba(0, 0, 0, 0.85);

      --text-main: #f1f5f9;
      --text-muted: #94a3b8;

      --c-branch-core:   #38bdf8;
      --c-branch-rights: #f97316;
      --c-branch-local:  #22c55e;
      --c-branch-ott:    #eab308;
      --c-branch-movie:  #fb7185;
      --c-branch-kids:   #a855f7;
      --c-branch-other:  #94a3b8;

      --font-din:  'Barlow', sans-serif;
      --font-cond: 'Barlow Condensed', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--font-din);
      background: var(--bg-dark);
      color: var(--text-main);
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      background-image:
        radial-gradient(circle at 50% 60%, rgba(15, 23, 42, 1) 0%, transparent 80%),
        radial-gradient(circle at 80% 20%, rgba(56, 189, 248, 0.14) 0%, transparent 45%),
        radial-gradient(circle at 20% 80%, rgba(34, 197, 94, 0.12) 0%, transparent 40%);
    }

    /* 顶栏：与 DVB 页统一 */
    .top-bar {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 72px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 40px;
      z-index: 20;
      background: linear-gradient(to bottom, rgba(5,8,22,0.96), transparent);
      pointer-events: none;
    }
    .brand {
      pointer-events: auto;
      display: flex;
      flex-direction: column;
    }
    .brand-path {
      font-family: var(--font-cond);
      font-size: 11px;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      color: #38bdf8;
      opacity: 0.9;
      margin-bottom: 4px;
      font-weight: 600;
    }
    .brand-title {
      font-family: var(--font-cond);
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.6px;
      text-transform: uppercase;
      color: #fff;
    }

    .top-actions {
      pointer-events: auto;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .breadcrumb {
      pointer-events: auto;
      font-family: var(--font-cond);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1.4px;
      color: rgba(148,163,184,0.9);
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 12px;
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .crumb-sep    { opacity: 0.6; }
    .crumb-active { color: #e5e7eb; }

    .back-btn {
      font-family: var(--font-cond); font-size: 14px; font-weight: 600;
      padding: 8px 24px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      color: var(--text-main);
      text-decoration: none;
      border: 1px solid rgba(255,255,255,0.2);
      backdrop-filter: blur(12px);
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.25);
    }
    .back-btn:hover {
      background: #38bdf8;
      color: #000;
      border-color: #38bdf8;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(56,189,248,0.45);
    }

    /* 图表容器 */
    #chart-container {
      position: absolute;
      inset: 0;
      z-index: 1;
    }

    /* 浮动文字层 */
    .panel-layer {
      position: absolute;
      inset: 0;
      z-index: 10;
      pointer-events: none;
      padding: 40px;
    }

    /* 左侧标题区 */
    .hero-text {
      position: absolute;
      top: 96px;
      left: 50px;
      max-width: 520px;
      pointer-events: auto;
      user-select: none;
      text-shadow: 0 8px 30px rgba(0,0,0,0.9);
    }
    .hero-label {
      font-family: var(--font-cond);
      font-size: 12px;
      font-weight: 700;
      color: #38bdf8;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      letter-spacing: 1.5px;
      text-transform: uppercase;
    }
    .hero-title {
      font-family: var(--font-cond);
      font-size: 52px;
      font-weight: 700;
      line-height: 0.9;
      margin-bottom: 24px;
      text-transform: uppercase;
      letter-spacing: -0.5px;
      background: linear-gradient(180deg, #fff 0%, #94a3b8 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .hero-desc {
      font-size: 14px;
      line-height: 1.7;
      font-weight: 300;
      color: var(--text-muted);
      position: relative;
      padding-left: 22px;
      margin-bottom: 18px;
    }
    .hero-desc::before {
      content: '';
      position: absolute;
      left: 0;
      top: 4px;
      bottom: 4px;
      width: 4px;
      background: rgba(148,163,184,0.7);
      border-radius: 4px;
    }

    /* 标签行 */
    .hero-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .tag-pill {
      padding: 5px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.92);
      color: #e5e7eb;
      pointer-events: auto;
    }

    /* 右侧说明卡：毛玻璃 */
    .glass-card {
      position: absolute;
      width: 360px;
      padding: 26px;
      border-radius: 28px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      box-shadow: var(--glass-shadow);
      pointer-events: auto;
      opacity: 1;
      right: 40px;
      top: 110px;
    }
    .card-header {
      font-family: var(--font-cond);
      font-size: 12px;
      font-weight: 700;
      color: rgba(148,163,184,0.9);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .card-title {
      font-family: var(--font-cond);
      font-size: 24px;
      font-weight: 600;
      color: #fff;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .card-body {
      font-size: 12px;
      line-height: 1.6;
      color: var(--text-muted);
      margin-bottom: 14px;
    }
    .card-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 4px;
    }
    .card-tag {
      font-family: var(--font-cond);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 3px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.95);
      color: #e5e7eb;
    }

    /* 套餐区：两行，DTT / DTH */
    .bouquet-panel {
      position: absolute;
      left: 50px;           /* 与 hero-text 左边对齐 */
      right: auto;
      bottom: 32px;
      max-width: 520px;     /* 与 hero-text 宽度对齐 */
      pointer-events: auto;
    }

    .bouquet-row {
      margin-top: 8px;
      padding: 8px 10px 10px;
      border-radius: 20px;
      background: rgba(15,23,42,0.92);
      border: 1px solid rgba(148,163,184,0.45);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.8);
    }

    .bouquet-row-title {
      font-family: var(--font-cond);
      font-size: 11px;
      letter-spacing: 1.6px;
      text-transform: uppercase;
      color: rgba(148,163,184,0.9);
      margin-bottom: 4px;
    }

    .bouquet-row-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 6px;
    }

    .bouquet-item {
      border-radius: 16px;      /* 可以保留圆角，也可改成 0 */
      overflow: hidden;
      background: transparent;  /* 关键：改成透明 */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .bouquet-item img {
      width: 100%;
      height: auto;
      display: block;
      transform: scale(0.8);  /* 缩小整体视觉尺寸 */
      transform-origin: center;
    }

    @media (max-width: 1024px) {
      body { overflow: auto; }
      #chart-container { height: 60vh; }
      .panel-layer {
        position: relative;
        inset: auto;
        padding: 16px 16px 24px;
      }
      .hero-text {
        position: relative;
        top: auto;
        left: auto;
        max-width: none;
        margin-bottom: 18px;
      }
      .glass-card {
        position: relative;
        right: auto;
        top: auto;
        width: auto;
        margin-top: 12px;
      }
      .bouquet-panel {
        position: relative;
        left: auto;
        right: auto;
        bottom: auto;
        max-width: none;
        margin-top: 16px;
      }
      .bouquet-row-grid {
        grid-template-columns: repeat(2, minmax(0,1fr));
      }
      .breadcrumb { display: none; }
    }
  </style>
</head>
<body>

  <!-- 顶栏 -->
  <div class="top-bar">
    <div class="brand">
      <div class="brand-path">STARTIMES / UGANDA / ECOLOGY / CONTENT</div>
      <div class="brand-title">Content · OTT & Ads Ecosystem</div>
    </div>
    <div class="top-actions">
      <a class="back-btn" href="./index.html">Back to Ecology</a>
    </div>

    <div class="breadcrumb">
      <span>Data Space</span><span class="crumb-sep">/</span>
      <span>Ecology</span><span class="crumb-sep">/</span>
      <span class="crumb-active">Content · OTT & Ads</span>
    </div>
  </div>

  <!-- 背景树状图 -->
  <div id="chart-container"></div>

  <!-- 文案与前景层 -->
  <div class="panel-layer">
    <!-- 左侧标题区 -->
    <section class="hero-text">
      <div class="hero-label">CONTENT ENGINE · UGANDA</div>
      <h1 class="hero-title">FROM RIGHTS TO<br>LOCAL STORYTELLING</h1>
      <p class="hero-desc">
        这一页不是简单列频道，而是拆解乌干达四达的内容生产链：
        从 <strong>国际版权与本地赛事的采购</strong>，到多语种配音、本地化包装，
        再到自办频道与 OTT · Ads 变现。径向树上的每一层，代表内容生态的一个组成部分。
      </p>

      <div class="hero-tags">
        <span class="tag-pill">Luganda / English / Swahili Dubbing</span>
        <span class="tag-pill">Local Drama &amp; Telenovela</span>
        <span class="tag-pill">Sports · Kids · News · Religion</span>
        <span class="tag-pill">DTT / DTH Bouquets · StarTimes ON</span>
      </div>
    </section>

    <!-- 右侧栈说明卡 -->
    <aside class="glass-card">
      <div class="card-header">
        <span>CONTENT LAYERS</span>
        <span>FROM RIGHTS → SCREEN</span>
      </div>
      <div class="card-title">Local Storytelling Stack</div>
      <div class="card-body">
        树根「Content Engine」代表集团统一的内容中台：
        上游对接体育、影视、动画等门类，下游拆分到乌干达本地的自办频道·授权频道·OTT
        App·广告位。中间一圈是本地化工厂：配音、剪辑、包装与排出编排，使内容真正变成
        Luganda 观众听得懂、看得爽的故事。
        <div class="card-tags">
          <span class="card-tag">International Rights</span>
          <span class="card-tag">Local Originals &amp; Luganda</span>
          <span class="card-tag">Sports Hub</span>
          <span class="card-tag">DTT / DTH / OTT Bouquets</span>
        </div>
      </div>
    </aside>

    <!-- 套餐展示：DTT & DTH 各一行，按价格从低到高 -->
    <section class="bouquet-panel">
      <!-- DTT 行：14k → 16k → 21k → 36k -->
      <div class="bouquet-row">
        <div class="bouquet-row-title">DTT BOUQUETS · ANTENNA</div>
        <div class="bouquet-row-grid">
          <div class="bouquet-item">
            <img src="../assets/bouquets/dtt-nova-14000.png" alt="DTT Nova 14,000/-">
          </div>
          <div class="bouquet-item">
            <img src="../assets/bouquets/dtt-copa-16000.png" alt="DTT Copa 16,000/-">
          </div>
          <div class="bouquet-item">
            <img src="../assets/bouquets/dtt-basic-21000.png" alt="DTT Basic 21,000/-">
          </div>
          <div class="bouquet-item">
            <img src="../assets/bouquets/dtt-classic-36000.png" alt="DTT Classic 36,000/-">
          </div>
        </div>
      </div>

      <!-- DTH 行：16k → 21k → 36k → 60k -->
      <div class="bouquet-row">
        <div class="bouquet-row-title">DTH BOUQUETS · DISH</div>
        <div class="bouquet-row-grid">
          <div class="bouquet-item">
            <img src="../assets/bouquets/dth-nova-16000.png" alt="DTH Nova 16,000/-">
          </div>
          <div class="bouquet-item">
            <img src="../assets/bouquets/dth-special-21000.png" alt="DTH Special 21,000/-">
          </div>
          <div class="bouquet-item">
            <img src="../assets/bouquets/dth-smart-36000.png" alt="DTH Smart 36,000/-">
          </div>
          <div class="bouquet-item">
            <img src="../assets/bouquets/dth-super-60000.png" alt="DTH Super 60,000/-">
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <script>
    var chart = echarts.init(document.getElementById('chart-container'));

    // ===== 分支颜色映射 =====
    var branchColors = {
      core:   getComputedStyle(document.documentElement).getPropertyValue('--c-branch-core')   || '#38bdf8',
      rights: getComputedStyle(document.documentElement).getPropertyValue('--c-branch-rights') || '#f97316',
      local:  getComputedStyle(document.documentElement).getPropertyValue('--c-branch-local')  || '#22c55e',
      ott:    getComputedStyle(document.documentElement).getPropertyValue('--c-branch-ott')    || '#eab308',
      movie:  getComputedStyle(document.documentElement).getPropertyValue('--c-branch-movie')  || '#fb7185',
      kids:   getComputedStyle(document.documentElement).getPropertyValue('--c-branch-kids')   || '#a855f7',
      other:  getComputedStyle(document.documentElement).getPropertyValue('--c-branch-other')  || '#94a3b8'
    };

    // ===== 内容树数据（带 branch 字段） =====
    var treeData = {
      name: 'Content Engine',
      branch: 'core',
      tooltip: '集团内容中台：聚合国际版权、本地频道与 OTT 资源。',
      children: [
        {
          name: 'Distribution & Monetisation',
          branch: 'core',
          tooltip: '内容分发与变现：频道编排、版权售卖、打包成不同套餐。',
          children: [
            {
              name: 'International Rights',
              branch: 'rights',
              tooltip: '国际顶级赛事与热门影视剧版权池。',
              children: [
                {
                  name: 'Top Leagues & Global Sports',
                  branch: 'rights',
                  tooltip: '欧冠、欧联、WCQ 等高价值体育资产。'
                },
                {
                  name: 'Movies & Series',
                  branch: 'movie',
                  tooltip: '海外电影与剧集，补充综合娱乐节目。'
                },
                {
                  name: 'Kids & Animation',
                  branch: 'kids',
                  tooltip: '少儿与动漫内容，支撑亲子家庭收视。'
                }
              ]
            },
            {
              name: 'Owned & Local Channels',
              branch: 'local',
              tooltip: '乌干达本地自办频道与联营频道。',
              children: [
                {
                  name: 'Movie / Series Channel',
                  branch: 'movie',
                  tooltip: '以电影和剧集为主的主题频道。'
                },
                {
                  name: 'Sports Hub (Local + Intl)',
                  branch: 'rights',
                  tooltip: '本地联赛 + 国际赛事综合体育枢纽频道。'
                }
              ]
            }
          ]
        },
        {
          name: 'African & Local Leagues',
          branch: 'local',
          tooltip: '非洲与本地联赛的整体组合。',
          children: [
            {
              name: 'Uganda League',
              branch: 'local',
              tooltip: '乌干达本地足球联赛。'
            },
            {
              name: 'CECAFA / AFCON Qualifiers',
              branch: 'rights',
              tooltip: '区域杯赛和非洲杯预选赛。'
            },
            {
              name: 'Other African Domestic Leagues',
              branch: 'local',
              tooltip: '其他非洲国家顶级联赛资源。'
            }
          ]
        },
        {
          name: 'Localisation Factory',
          branch: 'core',
          tooltip: '本地化工厂：配音、剪辑、排期等工作在这里完成。',
          children: [
            {
              name: 'Scheduling',
              branch: 'core',
              tooltip: '频道排期与窗口期规划。'
            },
            {
              name: 'Editing & Packaging',
              branch: 'core',
              tooltip: '节目的剪辑、包装、版式统一。'
            },
            {
              name: 'Dubbing & Voice',
              branch: 'core',
              tooltip: 'Luganda / English / Swahili 多语种配音与本地化旁白。'
            }
          ]
        },
        {
          name: 'OTT Bouquets & Ads',
          branch: 'ott',
          tooltip: '线上内容分发与广告库存。',
          children: [
            {
              name: 'StarTimes ON · OTT',
              branch: 'ott',
              tooltip: 'StarTimes ON App，聚合直播、点播与回放。'
            },
            {
              name: 'Ads Inventory',
              branch: 'ott',
              tooltip: 'OTT 广告库存：开机、贴片、Banner 等位。'
            },
            {
              name: 'DTT / DTH / OTT Bouquets',
              branch: 'rights',
              tooltip: '将频道打包成 COPA / NOVA / SMART / SUPER 等不同价位套餐。'
            }
          ]
        }
      ]
    };

    // 递归为每个节点附加样式（分支颜色 + 层级大小 + label 水平）
    function decorate(node, depth) {
      depth = depth || 0;
      var col = branchColors[node.branch] || branchColors.other;

      var size;
      var fontSize;
      var fontWeight = 500;

      if (depth === 0) {
        size = 14;
        fontSize = 15;
        fontWeight = 700;
      } else if (depth === 1) {
        size = 10;
        fontSize = 13;
      } else {
        size = 6;
        fontSize = 11;
      }

      node.symbolSize = size;
      node.itemStyle = { color: col };
      node.lineStyle = { color: col, width: depth <= 1 ? 1.6 : 1.1 };

      node.label = {
        position: 'right',
        verticalAlign: 'middle',
        align: 'left',
        rotate: 0,
        color: '#e5e7eb',
        fontFamily: 'Barlow Condensed',
        fontSize: fontSize,
        fontWeight: fontWeight
      };

      if (node.children && node.children.length) {
        node.children.forEach(function (child) {
          decorate(child, depth + 1);
        });
      }
    }
    decorate(treeData, 0);

    var option = {
      backgroundColor: 'transparent',
      tooltip: {
        trigger: 'item',
        formatter: function (params) {
          var d = params.data || {};
          var name = echarts.format.encodeHTML(d.name || '');
          var tip  = echarts.format.encodeHTML(d.tooltip || '');
          if (tip) {
            return '<strong>' + name + '</strong><br/>' + tip;
          }
          return name;
        }
      },
      series: [
        {
          type: 'tree',
          layout: 'radial',
          data: [treeData],
          top: '8%',
          bottom: '8%',
          left: '18%',
          right: '26%',
          symbol: 'circle',
          roam: true,                 // 允许拖拽缩放
          initialTreeDepth: 3,
          expandAndCollapse: true,
          animationDuration: 800,
          animationEasing: 'cubicOut',
          label: {
            rotate: 0,
            position: 'right',
            verticalAlign: 'middle',
            align: 'left',
            color: '#e5e7eb',
            fontFamily: 'Barlow Condensed'
          },
          leaves: {
            label: {
              rotate: 0
            }
          },
          lineStyle: {
            curveness: 0.35
          }
        }
      ]
    };

    chart.setOption(option);
    window.addEventListener('resize', function () {
      chart.resize();
    });
  </script>
</body>
</html>
