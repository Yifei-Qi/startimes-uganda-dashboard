<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>StarTimes Uganda · Data Space</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500;600;700&family=Barlow:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #050816;
      --text-main: #f9fafb;
      --text-muted: #94a3b8;

      --c-niche: #38bdf8;
      --c-ecology: #facc15;

      --font-din:  'Barlow', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --font-cond: 'Barlow Condensed', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: var(--font-din);
      background: var(--bg-dark);
      color: var(--text-main);
      background-image:
        radial-gradient(circle at 15% 10%, rgba(56,189,248,0.22) 0, transparent 45%),
        radial-gradient(circle at 85% 80%, rgba(250,204,21,0.2) 0, transparent 55%),
        radial-gradient(circle at 50% 50%, #020617 0, #020617 60%, #000000 100%);
    }

    #app {
      position: relative;
      width: 100%;
      height: 100%;
    }

    /* 顶部栏，与其它页面统一 */
    .top-bar {
      position: fixed;
      inset: 0 0 auto 0;
      height: 72px;
      padding: 0 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(to bottom, rgba(5,8,22,0.96), transparent);
      z-index: 20;
      pointer-events: none;
    }
    .brand {
      pointer-events: auto;
      display:flex;
      flex-direction:column;
      text-shadow: 0 0 18px rgba(15,23,42,0.9);
    }
    .brand-path {
      font-family: var(--font-cond);
      font-size: 11px;
      letter-spacing: 1.6px;
      text-transform: uppercase;
      color: var(--c-niche);
      opacity: .95;
      margin-bottom: 4px;
      font-weight: 600;
    }
    .brand-title {
      font-family: var(--font-cond);
      font-size: 19px;
      font-weight: 600;
      letter-spacing: .6px;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .top-actions {
      pointer-events:auto;
      display:flex;
      gap:10px;
      align-items:center;
    }

    .nav-chip {
      font-family: var(--font-cond);
      font-size: 11px;
      letter-spacing: 1px;
      text-transform: uppercase;
      padding:6px 16px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      background:rgba(15,23,42,0.9);
      color:#e5e7eb;
      text-decoration:none;
      display:flex;
      gap:6px;
      align-items:center;
      box-shadow:0 6px 16px rgba(0,0,0,0.35);
      backdrop-filter: blur(10px);
      transition:all .2s ease;
    }
    .nav-chip-dot {
      width:8px;
      height:8px;
      border-radius:999px;
      background:#6b7280;
    }
    .nav-chip.niche .nav-chip-dot { background: var(--c-niche); }
    .nav-chip.ecology .nav-chip-dot { background: var(--c-ecology); }

    .nav-chip:hover {
      transform:translateY(-1px);
      border-color:rgba(248,250,252,0.95);
      background:rgba(15,23,42,0.98);
      box-shadow:0 8px 22px rgba(15,23,42,0.9);
    }

    /* 背景光晕（保持原始风格） */
    .glow {
      position: absolute;
      pointer-events: none;
      border-radius: 999px;
      filter: blur(22px);
      opacity: 0.7;
      z-index: 1;
      mix-blend-mode: screen;
    }
    .glow.g1 {
      width: 40vw; height: 40vw;
      left: -10vw; top: -8vw;
      background: radial-gradient(circle, rgba(59,130,246,0.5) 0, transparent 60%);
    }
    .glow.g2 {
      width: 38vw; height: 38vw;
      right: -12vw; bottom: -6vw;
      background: radial-gradient(circle, rgba(250,204,21,0.55) 0, transparent 65%);
    }
    .glow.g3 {
      width: 30vw; height: 30vw;
      right: 14vw; top: 30vh;
      background: radial-gradient(circle, rgba(236,72,153,0.4) 0, transparent 65%);
    }

    /* 主布局：左文字 + 右图表 */
    .page-layout {
      position:absolute;
      left:0; right:0; top:72px; bottom:0;
      padding:32px 40px 28px;
      display:flex;
      gap:32px;
      z-index:5;
    }
    .hero {
      width:360px;
      max-width:380px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      pointer-events:none;
      text-shadow:0 0 20px rgba(15,23,42,0.9);
    }
    .hero-label {
      font-family:var(--font-cond);
      font-size:12px;
      letter-spacing:1.5px;
      text-transform:uppercase;
      color:var(--c-niche);
      margin-bottom:10px;
      font-weight:600;
    }
    .hero-title {
      font-family:var(--font-cond);
      font-size:52px;
      line-height:0.9;
      letter-spacing:-0.5px;
      text-transform:uppercase;
      margin-bottom:18px;
      background:linear-gradient(180deg,#f9fafb 0%,#9ca3af 100%);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .hero-subtitle {
      font-family:var(--font-cond);
      font-size:14px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:rgba(148,163,184,0.95);
      margin-bottom:12px;
    }
    .hero-desc {
      font-size:13px;
      line-height:1.7;
      color:var(--text-muted);
      padding-left:16px;
      border-left:3px solid rgba(148,163,184,0.6);
      margin-bottom:18px;
    }
    .hero-desc strong { color:#e5e7eb; font-weight:500; }

    .hero-actions {
      pointer-events:auto;
      display:flex;
      gap:10px;
      margin-top:4px;
    }
    .hero-btn {
      font-family:var(--font-cond);
      font-size:13px;
      letter-spacing:1px;
      text-transform:uppercase;
      padding:8px 20px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.8);
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:6px;
      backdrop-filter:blur(12px);
      transition:all .2s ease;
    }
    .hero-btn.primary {
      background:var(--c-niche);
      color:#020617;
      border-color:var(--c-niche);
      box-shadow:0 8px 24px rgba(56,189,248,0.6);
    }
    .hero-btn.primary:hover {
      box-shadow:0 12px 30px rgba(56,189,248,0.65);
      transform:translateY(-1px);
    }
    .hero-btn.ghost {
      background:rgba(15,23,42,0.9);
      color:#e5e7eb;
    }
    .hero-btn.ghost:hover {
      background:rgba(15,23,42,0.98);
      border-color:#e5e7eb;
      transform:translateY(-1px);
    }

    .chart-panel {
      flex:1;
      position:relative;
      min-width:0;
    }
    #galaxy {
      position:absolute;
      inset:0;
      z-index:2;
    }
    .chart-hint {
      position:absolute;
      right:0;
      bottom:0;
      font-family:var(--font-cond);
      font-size:11px;
      letter-spacing:1.2px;
      text-transform:uppercase;
      color:rgba(148,163,184,0.9);
      text-shadow:0 0 10px rgba(15,23,42,0.9);
      pointer-events:none;
    }

    @media (max-width: 900px) {
      .page-layout{
        flex-direction:column;
        padding:20px 18px 18px;
      }
      .hero{
        width:auto;
        max-width:none;
        margin-top:40px;
      }
      .hero-title{
        font-size:40px;
      }
      .chart-panel{
        height:360px;
      }
      .hero-actions{
        flex-wrap:wrap;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- 背景光晕 -->
    <div class="glow g1"></div>
    <div class="glow g2"></div>
    <div class="glow g3"></div>

    <!-- 顶部栏 -->
    <div class="top-bar">
      <div class="brand">
        <div class="brand-path">STARTIMES / UGANDA</div>
        <div class="brand-title">Data Space · Media Universe</div>
      </div>
      <div class="top-actions">
        <a class="nav-chip ecology" href="ecology/index.html">
          <span class="nav-chip-dot"></span><span>Ecology · Business Constellation</span>
        </a>
        <a class="nav-chip niche" href="niche/index.html">
          <span class="nav-chip-dot"></span><span>Niche · Spatial &amp; Market</span>
        </a>
      </div>
    </div>

    <!-- 主体 -->
    <main class="page-layout">
      <section class="hero">
        <div class="hero-label">STAR TIMES UGANDA · DATA SPACE</div>
        <h1 class="hero-title">Media<br>Universe Map</h1>
        <div class="hero-subtitle">Ecology · Niche · Spatial Niche · Market Niche</div>
        <p class="hero-desc">
          这里是乌干达 StarTimes 的 <strong>数据宇宙首页</strong>：右侧两个发光星系分别代表
          <strong>生态 Ecology</strong> 与 <strong>生态位 Niche</strong>。拖动、缩放星系即可浏览，
          点击核心或卫星节点进入各个专题模块（业务生态、空间生态位、市场生态位等）。
        </p>
        <div class="hero-actions">
          <a class="hero-btn primary" href="ecology/index.html">
            进入 Ecology 星系
          </a>
          <a class="hero-btn ghost" href="niche/index.html">
            进入 Niche 星系
          </a>
        </div>
      </section>

      <section class="chart-panel">
        <div id="galaxy"></div>
        <div class="chart-hint">Drag to explore · scroll to zoom · click nodes to enter</div>
      </section>
    </main>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <script>
    var chart = echarts.init(document.getElementById('galaxy'));

    function buildOption() {
      var w = chart.getWidth();
      var h = chart.getHeight();
      var minSide = Math.min(w, h);

      var cxNiche   = w * 0.30;
      var cyNiche   = h * 0.55;
      var cxEcology = w * 0.72;
      var cyEcology = h * 0.45;

      var haloR   = minSide * 0.26;
      var coreR   = minSide * 0.11;
      var subR    = minSide * 0.085;

      var nodes = [
        // Niche galaxy halo
        {
          name: '__NicheHalo',
          x: cxNiche,
          y: cyNiche,
          symbolSize: haloR,
          itemStyle: {
            color: {
              type: 'radial',
              x: 0.5, y: 0.5, r: 0.5,
              colorStops: [
                { offset: 0,   color: 'rgba(56,189,248,0.28)' },
                { offset: 0.4, color: 'rgba(56,189,248,0.22)' },
                { offset: 1,   color: 'rgba(15,23,42,0)' }
              ]
            },
            shadowBlur: 70,
            shadowColor: 'rgba(56,189,248,0.75)'
          },
          label: { show:false },
          silent: true,
          z: 1
        },
        // Ecology galaxy halo
        {
          name: '__EcologyHalo',
          x: cxEcology,
          y: cyEcology,
          symbolSize: haloR,
          itemStyle: {
            color: {
              type: 'radial',
              x: 0.5, y: 0.5, r: 0.5,
              colorStops: [
                { offset: 0,   color: 'rgba(250,204,21,0.32)' },
                { offset: 0.4, color: 'rgba(250,204,21,0.22)' },
                { offset: 1,   color: 'rgba(15,23,42,0)' }
              ]
            },
            shadowBlur: 70,
            shadowColor: 'rgba(250,204,21,0.8)'
          },
          label: { show:false },
          silent: true,
          z: 1
        },

        // Niche core
        {
          name: '生态位 · Niche',
          x: cxNiche,
          y: cyNiche,
          symbolSize: coreR,
          itemStyle: {
            color: '#38bdf8',
            shadowBlur: 40,
            shadowColor: 'rgba(56,189,248,0.9)'
          },
          label: {
            show:true,
            fontFamily: 'Barlow Condensed, sans-serif',
            fontSize: 20,
            fontWeight: 600,
            color: '#e5f4ff'
          },
          link: 'niche/index.html',
          tip: '生态位 Niche · 进入查看空间生态位与市场生态位'
        },
        // Niche children
        {
          name: '空间生态位 · Spatial niche',
          x: cxNiche - coreR * 0.9,
          y: cyNiche + coreR * 1.6,
          symbolSize: subR,
          itemStyle: {
            color: '#22c55e',
            shadowBlur: 28,
            shadowColor: 'rgba(34,197,94,0.85)'
          },
          label: {
            show:true,
            fontFamily: 'Barlow Condensed, sans-serif',
            fontSize: 14,
            color: '#dcfce7'
          },
          link: 'niche/spatial/index.html',
          tip: '空间生态位 · 物理空间、渠道和终端分布'
        },
        {
          name: '市场生态位 · Market niche',
          x: cxNiche + coreR * 0.9,
          y: cyNiche + coreR * 1.6,
          symbolSize: subR,
          itemStyle: {
            color: '#f97316',
            shadowBlur: 28,
            shadowColor: 'rgba(249,115,22,0.85)'
          },
          label: {
            show:true,
            fontFamily: 'Barlow Condensed, sans-serif',
            fontSize: 14,
            color: '#ffedd5'
          },
          link: 'niche/market/index.html',
          tip: '市场生态位 · 竞争格局、价格带、渠道与优势'
        },

        // Ecology core
        {
          name: '生态 · Ecology',
          x: cxEcology,
          y: cyEcology,
          symbolSize: coreR,
          itemStyle: {
            color: '#facc15',
            shadowBlur: 40,
            shadowColor: 'rgba(250,204,21,0.9)'
          },
          label: {
            show:true,
            fontFamily: 'Barlow Condensed, sans-serif',
            fontSize: 20,
            fontWeight: 600,
            color: '#fef9c3'
          },
          link: 'ecology/index.html',
          tip: '业务生态 · DVB / 太阳能 / 广告与设备等整体结构'
        },
        // Ecology children
        {
          name: '横向 · 产业产品布局',
          x: cxEcology + coreR * 1.4,
          y: cyEcology - coreR * 1.2,
          symbolSize: subR,
          itemStyle: {
            color: '#fbbf24',
            shadowBlur: 26,
            shadowColor: 'rgba(250,204,21,0.8)'
          },
          label: {
            show:true,
            fontFamily: 'Barlow Condensed, sans-serif',
            fontSize: 13,
            color: '#fef9c3'
          },
          link: 'ecology/horizontal.html',
          tip: '横向生态 · 各业务线与产品矩阵'
        },
        {
          name: '纵向 · 特点 / 门槛 / 不可替代性',
          x: cxEcology + coreR * 1.4,
          y: cyEcology + coreR * 1.2,
          symbolSize: subR,
          itemStyle: {
            color: '#eab308',
            shadowBlur: 26,
            shadowColor: 'rgba(234,179,8,0.85)'
          },
          label: {
            show:true,
            fontFamily: 'Barlow Condensed, sans-serif',
            fontSize: 13,
            color: '#fef3c7'
          },
          link: 'ecology/vertical.html',
          tip: '纵向生态 · 护城河、门槛与不可替代性'
        }
      ];

      var links = [
        // Niche galaxy
        { source: '生态位 · Niche', target: '空间生态位 · Spatial niche' },
        { source: '生态位 · Niche', target: '市场生态位 · Market niche' },
        // Ecology galaxy
        { source: '生态 · Ecology', target: '横向 · 产业产品布局' },
        { source: '生态 · Ecology', target: '纵向 · 特点 / 门槛 / 不可替代性' },
        // 两大星系之间
        { source: '生态位 · Niche', target: '生态 · Ecology' }
      ];

      return {
        backgroundColor: 'transparent',
        animationDuration: 1000,
        animationEasing: 'cubicOut',
        tooltip: {
          formatter: function (params) {
            var d = params.data || {};
            if (d.name && !d.name.startsWith('__')) {
              return d.tip || d.name;
            }
            return '';
          }
        },
        series: [
          {
            type: 'graph',
            layout: 'none',
            data: nodes,
            links: links,
            roam: true,
            focusNodeAdjacency: true,
            edgeSymbol: ['none', 'circle'],
            edgeSymbolSize: 3,
            lineStyle: {
              color: 'rgba(148,163,184,0.45)',
              width: 1.2,
              curveness: 0.22
            },
            emphasis: {
              scale: 1.05,
              lineStyle: {
                width: 1.8,
                color: 'rgba(248,250,252,0.95)'
              },
              label: {
                fontSize: 15,
                fontWeight: 600
              }
            }
          }
        ]
      };
    }

    chart.setOption(buildOption());

    chart.on('click', function (params) {
      var d = params.data || {};
      if (d.link) {
        window.location.href = d.link;
      }
    });

    window.addEventListener('resize', function () {
      chart.resize();
      chart.setOption(buildOption(), true);
    });
  </script>
</body>
</html>
